syntax = "proto3";

package studyroom.room_exception.v1;

import "google/protobuf/timestamp.proto";

// 스터디룸 예외 메시지 구조
message RoomException {
  int64 id = 1;                               // 예외 ID
  int64 room_id = 2;                          // 스터디룸 ID
  string holiday_date = 3;                    // 휴일 날짜 (YYYY-MM-DD 형식 문자열)
  string reason = 4;                          // 휴일 사유
  string opening_time = 5;                    // 일회성 여는 시간 (HH:MM 형식 문자열)
  string closing_time = 6;                    // 일회성 닫는 시간 (HH:MM 형식 문자열)
  int64 created_by = 7;                       // 생성자 ID (외부 서비스 참조)
  google.protobuf.Timestamp created_at = 8;   // 생성 시각
  google.protobuf.Timestamp updated_at = 9;   // 수정 시각
}

// 스터디룸 예외 생성 요청
message CreateRoomExceptionRequest {
  int64 room_id = 1;
  string holiday_date = 2;
  string reason = 3;
  string opening_time = 4;
  string closing_time = 5;
  int64 created_by = 6;
}

// 특정 스터디룸 예외 조회 요청
message GetRoomExceptionRequest {
  int64 id = 1;
}

// 스터디룸 예외 목록 조회 요청
message ListRoomExceptionsRequest {
  int64 room_id = 1;                          // 스터디룸 ID로 필터링
  string holiday_date = 2;                    // 휴일 날짜로 필터링
}

// 스터디룸 예외 생성 응답
message CreateRoomExceptionResponse {
  RoomException room_exception = 1;
}

// 특정 스터디룸 예외 조회 응답
message GetRoomExceptionResponse {
  RoomException room_exception = 1;
}

// 스터디룸 예외 목록 응답
message ListRoomExceptionsResponse {
  repeated RoomException room_exceptions = 1;
}

// 스터디룸 예외 업데이트 응답
message UpdateRoomExceptionResponse {
  RoomException room_exception = 1;
}

// 스터디룸 예외 삭제 응답
message DeleteRoomExceptionResponse {}

// 스터디룸 예외 정보 업데이트 요청
message UpdateRoomExceptionRequest {
  int64 id = 1;
  int64 room_id = 2;
  string holiday_date = 3;
  string reason = 4;
  string opening_time = 5;
  string closing_time = 6;
}

// 스터디룸 예외 삭제 요청
message DeleteRoomExceptionRequest {
  int64 id = 1;
}
